--[[
 main.lua
 GDC Game - Group 5
  Group: Rob, Steve, Chuck, Dylan, Chris, Sam
]]--

require("resourceControl")   
require("mainMenu")
require("creditScreen")
require("pixeleffects")

gameState = 9001;   --Current game state stored as global variable, easy access.  0-MainMenu 9001-credits
function love.load()
	
	mainMenuResources()   --Loads the resources necessary for mai menu   --resourceControl.lua
	creditScreenResources()

end

function love.update(dt)

	if gameState == 9001 then
		creditScreenUpdate()
	end

end

function love.draw()

	if gameState == 0  then
		mainMenuDraw()     --Function to draw main menu stuff  --mainMenu.lua
	elseif gameState == 9001 then
		love.graphics.clear()
		love.graphics.setPixelEffect(fx.lightrays)
		love.graphics.draw(csbgimg, 0,0)
	end

end

function love.keypressed(key)

	if gameState == 0 then
		mainMenuKeys(key)     --Function to use key maps for main menu --mainMenu.lua
	elseif gameState == 9001 then
		exitCreditScreen() -- any key exits the credits screen. 
	end

end
